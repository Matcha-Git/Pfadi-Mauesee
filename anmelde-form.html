<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="unterseiten.css" rel="stylesheet">
    <link href="anmelde-form.css" rel="stylesheet">
    <link href="bilder" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rubik:ital,wght@0,300..900;1,300..900&display=swap" rel="stylesheet">
    <title>Anmelde Formular</title>
</head>
<body>
    <div class="body">
        <header>
            <img class="header_logo" src="bilder/header_logo_unterseiten.png" alt="Logo Pfadi Mauensee">        
        </header>
        <nav>
            <div class="Navindex">
                <a href="index.html">Home</a>
                <a href="pfadi-mauensee.html">Pfadi Mauensee</a>
                <a href="stuffen.html">Stufen</a>
                <a href="anmelde-form.html">Anmelde Formular</a>
            </div>
        </nav>
        <main>
          <div class="top1">
            <h1 class="top1txt">Hast du auch Lust auf Pfadi?</h1>
          </div>
          <div class="top2">
            <h3 class="top2txt">Hier kannst du dich für einen Schnuppertag anmelden</h3>
          </div>
          <div class="flex_form">
            <form id="form1">
              <div>
                  <label for="textfeld1">Vor-/Nachname des Kindes:</label><br>
                  <input type="text" placeholder="Pflichtfeld" required id="textfeld1" name="Vor-/Nachname">
              </div>
              <div>
                <label for="textfeld2">Alter des Kindes:</label><br>
                <input type="text" placeholder="Pflichtfeld" required id="textfeld2" name="Alter">
              </div>
              <div>
                <label for="select1">Schnupper Stufe:</label><br>
                <select name="select1" id="select1">
                  <option value="-">Wähle eine Stufe</option>
                  <option value="Biberstufe">Biberstufe</option>
                  <option value="Wölflistufe">Wölflistufe</option>
                  <option value="Pfaderstufe">Pfaderstufe</option>
                  <option value="Piostufe">Piostufe</option>
                </select>
              </div>
              <div>
                  <label for="phone">Telefonnummer:</label><br>
                  <input type="tel" placeholder="Pflichtfeld" required id="phone" name="phone">
              </div>
              <div>
                <label for="textfeld3">Halter der Telefonnummer:</label><br>
                <input type="text" placeholder="Pflichtfeld" required id="textfeld3" name="Inhabertel">
              </div>
              <div>
                  <label for="textarea1">Mitteilung:</label><br>
                  <textarea name="Mitteilung" required id="textarea1" cols="40" rows="5" placeholder="Hat Ihr Kind Alergien, Gesundheitliche Beschwerden oder ähnliches? Geben Sie diese bitte hier an."></textarea>
              </div>
              <div>
                  <button type="submit">Abschicken</button>
              </div>
            </form>
            <script>
              emailjs.init("WUBRlXioiV8YaN7x9"); // Ersetze mit deiner User ID von EmailJS

              document.getElementById('form1').addEventListener('submit', function(event) {
                  event.preventDefault();  // Verhindert das Standardverhalten des Formulars (Absenden)

                  // Formulardaten sammeln
                  const vorname = document.getElementById('textfeld1').value;
                  const alter = document.getElementById('textfeld2').value;
                  const stufe = document.getElementById('select1').value;
                  const telefon = document.getElementById('phone').value;
                  const inhaber = document.getElementById('textfeld3').value;
                  const mitteilung = document.getElementById('textarea1').value;

                  // Erstelle die Formulardaten für das EmailJS Template
                  const templateParams = {
                      vorname: vorname,
                      alter: alter,
                      stufe: stufe,
                      telefon: telefon,
                      inhaber: inhaber,
                      mitteilung: mitteilung
                  };

                  // Sende das Formular über EmailJS
                  emailjs.send('service_hh8dcve', 'template_4034p39', templateParams)
                      .then(function(response) {
                          alert("Die Anmeldung wurde erfolgreich gesendet!");
                          console.log('Erfolgreich gesendet', response);
                      }, function(error) {
                          alert("Es gab ein Problem beim Senden der E-Mail.");
                          console.error('Fehler beim Senden', error);
                      });
              });
            </script>
          </div>
          <div class="top1">
            <h1 class="top1txt2">Danke für deine Anmeldung :)</h1>
          </div>
        </main>
        <footer>
            <div class="footer">
                <div class="kontakt">
                  <h3>
                    Kontakt
                  </h3>
                  <p>pfadi.mauensee@outlook.com</p>
                  <p>+41 79 450 66 39</p>
                </div>
                <div class="Pfadiheim">
                  <h3>
                    Pfadiheim
                  </h3>
                  <p>ort. Mauensee, Luzern</p>
                  <p>str. 8 Dorf</p>
                  <p>plz. 6216</p> 
                </div>
                <div class="Social Media">
                  <h3>
                    Social Media
                  </h3>
                  <p>Tiktok: Pfadi_Mauensee</p>
                  <p>Instagram: Pfadi_Mauensee</p>
                  <p>Youtube: Pfadi_Mauensee</p> 
                </div>
              </div>        
        </footer>
    </div>
</body>
</html>
